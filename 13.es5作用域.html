<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 1.作用域：某个变量的作用范围
      // 作用域的目的：减少变量之间的冲突
      // es5的全局作用域：整个script标签或单个的js文件。
      // es5的局部作用域：也称为函数作用域，只在函数内部起效果。
      var num = 10;
      function fn() {
        var num = 20;
        console.log(num); //20
      }
      fn();
      console.log(num); //10

      //   2.全局变量与局部变量
      //   注意：如果在函数内部没有声明直接赋值的变量也属于全局变量。
      var num2 = 10;
      function fn2() {
        num3 = 30;
      }
      fn2();
      console.log(num3); //30

      //   3.全局变量与局部变量的效率问题：
      //   全局变量只有在浏览器关闭的时候才会被销毁，比较占内存。
      //   局部变量：当代码块执行完毕就会被销毁，比较节省内存空间。

      //   4.块级作用域是在es6之后才新增的。
      //   只要用{}包起来的就存在块级作用域

      //   以下代码在es5中可以输出，但在es6中由于存在块级作用域，所以输出为num4 is not defined
      if (true) {
        var num4 = 40;
      }
      console.log(num4); //40

      //   5.作用域链：内部函数访问外部函数的变量采用的是链式查找的方式，这种查找结构称为作用域链。（就近原则）
      //   ❤❤❤ 存在作用域的时候，直接看需要打印输出的位置，逐层的向外查找
      //   案例1：
      var num5 = 50;
      function fn5() {
        num5 = 501;
        function fn6() {
          console.log(num5); //501
        }
        fn6();
      }
      fn5();

      //   案例2：
      function fn7() {
        var num7 = 123;
        function fn8() {
          console.log(num7); //123
        }
        fn8();
      }
      var num7 = 234;
      fn7();
    </script>
  </body>
</html>
